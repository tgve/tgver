
R version 4.1.2 (2021-11-01) -- "Bird Hippie"
Copyright (C) 2021 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(tgver)

Attaching package: 'tgver'

The following object is masked from 'package:testthat':

    setup

The following object is masked from 'package:utils':

    help

The following object is masked from 'package:base':

    version

> 
> # disable browserURL
> Sys.setenv(R_BROWSER = FALSE)
> test_check("tgver")
trying URL 'https://raw.githubusercontent.com/saferactive/tgve/main/pf-only-name.geojson'
Content type 'text/plain; charset=utf-8' length 317159 bytes (309 KB)
==================================================
downloaded 309 KB

trying URL 'https://raw.githubusercontent.com/saferactive/tgve/main/ksi-pf.csv'
Content type 'text/plain; charset=utf-8' length 2261 bytes
==================================================
downloaded 2261 bytes

More than one matching columns found between the two files
                    using the first matchin column as `geographyColumn` value.
http://127.0.0.1:8000/data.csv http://127.0.0.1:8000/geoURL police_forceRunning plumber at: http://127.0.0.1/8000
Running plumber at: http://127.0.0.1/8000
Running plumber at: http://127.0.0.1/8000
[1] "/var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpxzmFUG/working_dir/RtmpwWdcTP/tgve"
 [1] "tooltipColumns"     "defaultURL"         "geographyURL"      
 [4] "geographyColumn"    "column"             "data"              
 [7] "layerName"          "dark"               "viewport"          
[10] "hideChartGenerator" "hideCharts"        
Attempting to serve TGVE instance from: /var/folders/24/8k48jl6d249_n_qfxwsl6xvm0000gn/T//RtmpxzmFUG/working_dir/RtmpwWdcTP/tgve
Running plumber at: http://127.0.0.1/8000
[ FAIL 0 | WARN 0 | SKIP 0 | PASS 42 ]
> 
> proc.time()
   user  system elapsed 
  1.720   0.640   3.223 
